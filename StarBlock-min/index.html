
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>:root {--width-store-: 500px;--height-store-: 400px;}html {height: 100vh;}canvas {border: 2px solid gray;background-color: rgb(0, 0, 15);background-image: url("../img/estrelas.jpg");}td {border: 1px solid black;padding: 3px;}#GameDisplay {display: flex;flex-direction: row;justify-content: center;align-items: center;}.hidden {display: none;}.visible {display: block;background-color: #fff;border: 1px solid #aaa;position: absolute;}#store {width: 570px;height: calc(100% - 5px);left: 0;top: 0;}#help {left: 0;top: 0;width: 500px;height: calc(100% - 5px);}#pause {width: 300px;height: 250px;top: calc(100% / 2 - 125px);left: calc(100% / 2 - 150px);}.leave {width: 100%;}</style><title translate="no">Star Block</title></head><body onload="loaded();"><main id="GameDisplay"><canvas id="game" width="600" height="600"><div><p>Unfortunately your browser does not support canvas, <br>element used to display the game, therefore it is not possible <br>load it.</p><p>Please update your browser to be able to play.<br><a href="https://www.google.com/intl/pt-BR/chrome/">Chrome</a><br><a href="https://www.mozilla.org/en-BR/firefox/new/">FireFox</a><br><a href="https://www.microsoft.com/en-us/edge">Microsoft Edge</a><br><a href="https://www.opera.com/pt-br">Opera</a></p></div></canvas><div><table><tr><td>Base Health:</td><td id="heal"></td></tr><tr><td>Score:</td><td id="score"></td></tr><tr><td>Horde:</td><td id="wave"></td></tr><tr><td>Spaceships destroyed:</td><td id="ships_destroyed"></td></tr><tr><td>Money:</td><td id="cash"></td></tr><tr><td>Super Phase:</td><td id="superPhase"></td></tr></table><button id="btnStore">Store</button><button id="btnHelp">Help</button></div><div id="help" class="hidden"><button class="leave" id="unhelp">Leave</button><p>Click 'a' and 'd' or '&lArr;' and '&rArr;' to go left and right, respectively.</p><p>Click 'e' to create 1 enemy (don't press and hold, just tap).</p><p>Click 'p' to pause the game (also pauses the page).</p><p>Click 'i' to spawn enemies automatically (click only 1 time, takes 3s to start, spawns 1 every 3s).</p><p>Click and hold on '&dArr;' to activate the laser.</p><p>Click 1 time on '&uArr;' to shoot 1 super laser.(only works when you have ammo).</p><p>Click 'c' to clear the screen.</p><p>Click 'r' to shoot flying and again to disable (requires more from the computer).</p><br><p>1 enemy destroyed = +5 credits, +10 score.</p><p>1 asteroid destroyed = +7 credits, +15 score</p><p>10 ships created = +1 horde</p></div><div id="store" class="hidden"><button class="leave" id="unstore">Leave</button><table><tbody><tr><td>Product</td><td>Price</td><td>Amount per purchase</td><td>Buy</td></tr><tr><td>Super laser Ammo</td><td>$25.00</td><td>5</td><td><button id="armorPhase">Buy</button></td></tr><tr><td>Health</td><td>$10.00</td><td>20</td><td><button id="health">Buy</button></td></tr></tbody></table></div><div id="pause" class="hidden"><divstyle="display: flex;flex-direction: column;justify-content: center;align-items: center;"><h3>The game is paused.</h3><br><button id="stopShipSpawn">Pause ship and asteroid creation?(click to yes)</button><buttonclass="leave"id="unpause"style="margin-top: 100px;">Resume</button></div></div></main><script>let pauseVar = false;function loaded(){const canvas = document.getElementById("game");let heal = document.getElementById("heal"),scor = document.getElementById("score"),gameWave = document.getElementById("wave"),enemyD = document.getElementById("ships_destroyed"),cash = document.getElementById("cash"),superPhase = document.getElementById("superPhase");let game = canvas.getContext("2d");game.clearRect(0, 0, 600, 600);let x = 300,y = 530,d = 10,baseHealth = 200,score = 0,wave = 1,ed = 0,gover = false,money = 0,armorSPh = 0,shooting = false,repeatShoot = false;heal.innerHTML = baseHealth;function ship(){let shipI = new Image();shipI.src = "./img/enterprise.png";shipI.onload = () =>{game.drawImage(shipI,x - 21, y - 21);};if(x > 600){x = 1;ship();}else if(x < 0){x = 599;ship();}}class Bullet{constructor(x1, y1){this.x = x1;this.y = y1;}shootT1(){game.beginPath();game.moveTo(this.x, this.y - 21);game.lineTo(this.x, 0);game.lineWidth = 2;game.strokeStyle = "red";game.stroke();setTimeout(() =>{game.clearRect(this.x - 1, 0, 2, 509);ship();},15);}shootT2(){game.beginPath();game.moveTo(this.x, this.y - 21);game.lineTo(this.x, 0);game.lineWidth = 2;game.strokeStyle = "yellow";game.stroke();setTimeout(() =>{game.clearRect(this.x - 1, 0, 2, 509);ship();},15);}}class EnemyShip{constructor(x1, y1){this.x = x1;this.y = y1;this.health = 100;}go(){let posx = this.x, posy = this.y, health = this.health, enemysht;let exp = this.explode;function gameover(){if(gover == true){setTimeout(() =>{alert("You lost!\n\nScore: " + score + "\nSupported hordes: " + parseInt(wave) + "\nEnemies destroyed: " + parseInt(ed));location.reload();},1000);}}function shipe(){if(health > 0){if(posy < 579){setTimeout(() =>{if(!pauseVar){game.clearRect(posx - 32, posy - 30, 60, 60);ship();posy += d - 1;clearInterval(enemysht);if(repeatShoot){enemysht = setInterval(() =>{if(posx >= x - 21 && posx <= x + 21 && posy < y && repeatShoot && shooting){health -= 1;}},10);}if(baseHealth <= 0){posy = 580;gover = true;gameover();exp(posx, posy);}let enemy = new Image(42, 42);enemy.src = "./img/NaveInimiga.png";enemy.onload = () =>{game.drawImage(enemy,posx - 21, posy - 30);}}shipe();},500 - (wave * 12));}else{baseHealth -= health;exp(posx, posy);}}else{score += 10;money += 5;ed += 1;exp(posx, posy);}}function colision(){if(health > 0){setTimeout(() =>{if(posy >= y - 40 && posy < y + 20 && posx >= x - 35 && posx <= x + 35 && !pauseVar){health -= 20;}colision();},500);}else{exp(posx, posy);}}document.addEventListener("keydown", shoot);document.addEventListener("keyup", shoot2);function shoot(e){if(e.code == "ArrowDown" && !repeatShoot && !pauseVar){if(posx >= x - 21 && posx <= x + 21 && posy < y){health -= 5;}}}function shoot2(e){if(e.code == "ArrowUp" && armorSPh > 0 && !pauseVar){if(posx >= x - 21 && posx <= x + 21 && posy < y){health -= 100;}}}colision();shipe();}explode(x2, y2){setTimeout(() =>{game.clearRect(x2 - 32, y2 - 30, 62, 60);},50);ship();scor.innerHTML = score;heal.innerHTML = baseHealth;enemyD.innerHTML = parseInt(ed);gameWave.innerHTML = parseInt(wave);cash.innerHTML = `$${money.toFixed(2)}`;setTimeout(() =>{let animation = setTimeout(animat, 150), frame = 1;function animat(){game.clearRect(x2 - 32, y2 - 30, 60, 60);let img = new Image(42, 42);switch (frame) {case 1:img.src = "./img/explosion/spaceship/NaveInimigaF1.png";break;case 2:img.src = "./img/explosion/spaceship/NaveInimigaF2.png";break;case 3:img.src = "./img/explosion/spaceship/NaveInimigaF3.png";break;case 4:img.src = "./img/explosion/spaceship/NaveInimigaF4.png";break;default:clearTimeout(animation);break;}img.onload = () =>{game.drawImage(img,x2 - 21, y2 - 30);};if(frame <= 4){if(frame == 4){setTimeout(() =>{game.clearRect(x2 - 32, y2 - 30, 62, 60);},300)}frame++;setTimeout(animat, 150);}}},50);}}class Asteroid{constructor(x1, y1){this.x = x1;this.y = y1;this.h = 200;}go(){let posx = this.x,posy = this.y,health = this.h,enemysht,exp = this.explode;function fly(){if(health > 0){if(posy < 579){setTimeout(() =>{if(!pauseVar){game.clearRect(posx - 32, posy - 32, 75, 65);ship();let img = new Image();img.src = "./img/asteroide.png";img.onload = () =>{game.drawImage(img,posx - 21, posy - 30);};clearInterval(enemysht);if(repeatShoot){enemysht = setInterval(() =>{if(posx >= x - 21 && posx <= x + 21 && posy < y && repeatShoot && shooting){health -= 1;}},10);}posy += d - 3;}fly();},1000);}else{baseHealth -= health;exp(posx, posy);}}else{score += 15;money += 7;exp(posx, posy);}}document.addEventListener("keydown", shoot);document.addEventListener("keyup", shoot2);function shoot(key){if(key.code == "ArrowDown" && !pauseVar){if(posx >= x - 21 && posx <= x + 21 && posy < y){health -= 5;}}}function shoot2(key){if(key.code == "ArrowUp" && armorSPh > 0 && !pauseVar){if(posx >= x - 21 && posx <= x + 21 && posy < y){health -= 100;}}}fly();}explode(x2, y2){setTimeout(() =>{game.clearRect(x2 - 32, y2 - 32, 75, 75);},50);ship();scor.innerHTML = score;heal.innerHTML = baseHealth;enemyD.innerHTML = parseInt(ed);gameWave.innerHTML = parseInt(wave);cash.innerHTML = `$${money.toFixed(2)}`;setTimeout(() =>{let animation = setTimeout(animat, 150), frame = 1;function animat(){let img = new Image(42, 42);switch (frame) {case 1:img.src = "./img/explosion/asteroid/explosaoF1.png";break;case 2:img.src = "./img/explosion/asteroid/explosaoF2.png";break;case 3:img.src = "./img/explosion/asteroid/explosaoF3.png";break;case 4:img.src = "./img/explosion/asteroid/explosaoF4.png";break;default:clearTimeout(animation);break;}img.onload = () =>{game.drawImage(img,x2 - 21, y2 - 30);};if(frame <= 4){if(frame == 4){setTimeout(() =>{game.clearRect(x2 - 32, y2 - 30, 62, 60);},300)}frame++;setTimeout(animat, 150);}}},50);}}ship();let enemySpawn, asteroidSpawn, shootLoop;function shootRpt(){if(shooting){game.clearRect(x - 32, y - 30, 60, 60);ship();let b = new Bullet(x, y);b.shootT1();}}function eventKBD(key){if((key.code == "KeyA" || key.code == "ArrowLeft") && !pauseVar){x -= d;game.clearRect(x - 30, y - 30, 65, 65);ship();}else if((key.code == "KeyD" || key.code == "ArrowRight") && !pauseVar){x += d;game.clearRect(x - 32, y - 30, 65, 65);ship();}else if(key.code == "ArrowDown" && !pauseVar){if(repeatShoot){shooting = true;}else{game.clearRect(x - 32, y - 30, 60, 60);ship();let b = new Bullet(x, y);b.shootT1();}}else if(key.code == "KeyC" && !pauseVar){game.clearRect(0, 0, 600, 600);ship();}else if(key.code == "KeyE" && !pauseVar){ship();let e = new EnemyShip((40 + Math.random() * (560 - 40)), 50), a = new Asteroid((40 + Math.random() * (560 - 40)), 50);e.go();a.go();wave += 0.1;}else if(key.code == "KeyI" && !pauseVar){clearInterval(enemySpawn);clearInterval(asteroidSpawn);enemySpawn = setInterval(() =>{if(!pauseVar){let enemy = new EnemyShip((40 + Math.random() * (560 - 40)), 50);enemy.go();wave += 0.1;}},3000);asteroidSpawn = setInterval(() =>{if(!pauseVar){let asteroid = new Asteroid((40 + Math.random() * (560 - 40)), 50);asteroid.go();}},7500);}else if(key.code == "KeyP" && !pauseVar){pause();pauseVar = (pauseVar) ? false : true;}}heal.innerHTML = baseHealth;scor.innerHTML = score;enemyD.innerHTML = parseInt(ed);gameWave.innerHTML = parseInt(wave);cash.innerHTML = `$${money.toFixed(2)}`;superPhase.innerHTML = armorSPh;document.addEventListener("keydown", eventKBD);document.addEventListener("keyup",(key) =>{if(key.code == "ArrowUp" && armorSPh > 0 && !pauseVar){armorSPh -= 1;superPhase.innerHTML = armorSPh;ship();let b = new Bullet(x, y);b.shootT2();}else if(key.code == "ArrowDown"){shooting = false;}else if(key.code == "KeyR"){if(repeatShoot){repeatShoot = false;clearInterval(shootLoop)}else{repeatShoot = true;shootLoop = setInterval(shootRpt, 10)}}});document.getElementById("health").addEventListener("click",(click) =>{if(money >= 10){money -= 10;baseHealth += 20;heal.innerHTML = baseHealth;cash.innerHTML = `$${money.toFixed(2)}`;}else{alert("You do not have enough money.")}});document.getElementById("armorPhase").addEventListener("click",(click) =>{if(money >= 25){money -= 25;armorSPh += 5;superPhase.innerHTML = armorSPh;cash.innerHTML = `$${money.toFixed(2)}`;}else{alert("You do not have enough money.")}});document.getElementById("stopShipSpawn").addEventListener("click",(click) =>{clearInterval(enemySpawn);clearInterval(asteroidSpawn);pauseVar = false;pause();});document.getElementById("unpause").addEventListener("click",(click) =>{pauseVar = false;pause();});document.getElementById("unhelp").addEventListener("click", function(e) {help()});document.getElementById("unstore").addEventListener("click", function(e) {store()});document.getElementById("btnHelp").addEventListener("click", function(e) {help()});document.getElementById("btnStore").addEventListener("click", function(e) {store()});}function store(){let store_ = document.getElementById("store");if(store_.classList.contains("hidden")){store_.classList.remove("hidden");store_.classList.add("visible");}else{store_.classList.add("hidden");store_.classList.remove("visible");}}function help(){let help = document.getElementById("help");if(help.classList.contains("hidden")){help.classList.add("visible");help.classList.remove("hidden");}else{help.classList.add("hidden");help.classList.remove("visible");}}function pause(){let paused = document.getElementById("pause");if(paused.classList.contains("hidden")){paused.classList.add("visible");paused.classList.remove("hidden");}else{paused.classList.remove("visible");paused.classList.add("hidden");}}</script></body></html>
